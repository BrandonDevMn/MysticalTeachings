/* MTG Mana Symbol Styles */

/* Base mana symbol styling */
.mana-symbol {
    display: inline-block;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    font-size: 10px;
    font-weight: bold;
    text-align: center;
    line-height: 16px;
    color: white;
    text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);
    margin: 0 1px;
    flex-shrink: 0;
    position: relative;
    box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.3),
                inset 0 -1px 2px rgba(0, 0, 0, 0.3);
}

/* Large mana symbols for card details */
.mana-symbol.large {
    width: 20px;
    height: 20px;
    line-height: 20px;
    font-size: 12px;
}

.mana-symbol.extra-large {
    width: 24px;
    height: 24px;
    line-height: 24px;
    font-size: 14px;
}

/* White mana */
.mana-symbol.white {
    background: radial-gradient(circle, #fffbd5 0%, #f8f6d8 70%, #d4d2aa 100%);
    color: #333;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
}

/* Blue mana */
.mana-symbol.blue {
    background: radial-gradient(circle, #0e68ab 0%, #0f4c75 70%, #0d3a58 100%);
    color: white;
}

/* Black mana */
.mana-symbol.black {
    background: radial-gradient(circle, #150b00 0%, #2e1a00 70%, #1a0f00 100%);
    color: white;
    border: 1px solid #555;
}

/* Red mana */
.mana-symbol.red {
    background: radial-gradient(circle, #d3202a 0%, #a91e22 70%, #7f171a 100%);
    color: white;
}

/* Green mana */
.mana-symbol.green {
    background: radial-gradient(circle, #00733e 0%, #005a2f 70%, #004225 100%);
    color: white;
}

/* Colorless mana */
.mana-symbol.colorless {
    background: radial-gradient(circle, #cac5c0 0%, #a8a29a 70%, #867f75 100%);
    color: #333;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
}

/* Generic mana (numbers) */
.mana-symbol.generic {
    background: radial-gradient(circle, #cac5c0 0%, #a8a29a 70%, #867f75 100%);
    color: #333;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
    font-weight: 700;
}

/* Hybrid mana symbols */
.mana-symbol.hybrid {
    background: conic-gradient(from 90deg at 50% 50%, var(--hybrid-color-1) 50%, var(--hybrid-color-2) 50%);
    position: relative;
}

.mana-symbol.hybrid::before {
    content: '';
    position: absolute;
    top: 1px;
    left: 50%;
    width: 1px;
    height: calc(100% - 2px);
    background: rgba(255, 255, 255, 0.5);
    transform: translateX(-50%);
}

/* White/Blue hybrid */
.mana-symbol.hybrid.white-blue {
    --hybrid-color-1: #fffbd5;
    --hybrid-color-2: #0e68ab;
}

/* Blue/Black hybrid */
.mana-symbol.hybrid.blue-black {
    --hybrid-color-1: #0e68ab;
    --hybrid-color-2: #150b00;
}

/* Black/Red hybrid */
.mana-symbol.hybrid.black-red {
    --hybrid-color-1: #150b00;
    --hybrid-color-2: #d3202a;
}

/* Red/Green hybrid */
.mana-symbol.hybrid.red-green {
    --hybrid-color-1: #d3202a;
    --hybrid-color-2: #00733e;
}

/* Green/White hybrid */
.mana-symbol.hybrid.green-white {
    --hybrid-color-1: #00733e;
    --hybrid-color-2: #fffbd5;
}

/* White/Black hybrid */
.mana-symbol.hybrid.white-black {
    --hybrid-color-1: #fffbd5;
    --hybrid-color-2: #150b00;
}

/* Blue/Red hybrid */
.mana-symbol.hybrid.blue-red {
    --hybrid-color-1: #0e68ab;
    --hybrid-color-2: #d3202a;
}

/* Black/Green hybrid */
.mana-symbol.hybrid.black-green {
    --hybrid-color-1: #150b00;
    --hybrid-color-2: #00733e;
}

/* Red/White hybrid */
.mana-symbol.hybrid.red-white {
    --hybrid-color-1: #d3202a;
    --hybrid-color-2: #fffbd5;
}

/* Green/Blue hybrid */
.mana-symbol.hybrid.green-blue {
    --hybrid-color-1: #00733e;
    --hybrid-color-2: #0e68ab;
}

/* Phyrexian mana */
.mana-symbol.phyrexian {
    position: relative;
}

.mana-symbol.phyrexian::after {
    content: 'Œ¶';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 8px;
    color: rgba(255, 255, 255, 0.9);
    font-weight: 900;
}

/* Snow mana */
.mana-symbol.snow {
    background: radial-gradient(circle, #e6f3ff 0%, #b3d9ff 70%, #80bfff 100%);
    color: #0066cc;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
}

.mana-symbol.snow::after {
    content: '‚ùÖ';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 10px;
}

/* Variable mana (X) */
.mana-symbol.variable {
    background: radial-gradient(circle, #9d4edd 0%, #7b2cbf 70%, #5a189a 100%);
    color: white;
    font-style: italic;
    font-weight: 700;
}

/* Tap symbol */
.mana-symbol.tap {
    background: radial-gradient(circle, #f8f9fa 0%, #e9ecef 70%, #ced4da 100%);
    color: #495057;
    font-weight: 900;
    transform: rotate(90deg);
}

/* Untap symbol */
.mana-symbol.untap {
    background: radial-gradient(circle, #f8f9fa 0%, #e9ecef 70%, #ced4da 100%);
    color: #495057;
    font-weight: 900;
}

/* Energy symbol */
.mana-symbol.energy {
    background: radial-gradient(circle, #ffd23f 0%, #ffb700 70%, #ff9500 100%);
    color: #333;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
}

.mana-symbol.energy::after {
    content: '‚ö°';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 10px;
}

/* Planeswalker loyalty */
.loyalty-symbol {
    background: radial-gradient(circle, #ffd700 0%, #ffb700 70%, #ff9500 100%);
    color: #333;
    font-weight: 900;
    border: 2px solid #ff9500;
}

/* Mana cost container */
.mana-cost {
    display: inline-flex;
    align-items: center;
    gap: 2px;
    flex-wrap: wrap;
}

/* Converted mana cost indicator */
.cmc-indicator {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.cmc-value {
    font-weight: 600;
    color: var(--text-color);
}

/* Fallback for browsers that don't support the symbols */
.mana-symbol[data-symbol]::before {
    content: attr(data-symbol);
}

/* Unicode fallback symbols */
.mana-symbol.fallback {
    background: var(--border-color);
    color: var(--text-color);
    font-size: 10px;
    border: 1px solid var(--text-secondary);
}

.mana-symbol.fallback.white::before { content: '‚ö™'; }
.mana-symbol.fallback.blue::before { content: 'üîµ'; }
.mana-symbol.fallback.black::before { content: '‚ö´'; }
.mana-symbol.fallback.red::before { content: 'üî¥'; }
.mana-symbol.fallback.green::before { content: 'üü¢'; }
.mana-symbol.fallback.colorless::before { content: '‚ö™'; }
.mana-symbol.fallback.tap::before { content: '‚Üª'; }
.mana-symbol.fallback.untap::before { content: '‚Ü∫'; }

/* Animation for interactive mana symbols */
.mana-symbol.interactive {
    cursor: pointer;
    transition: transform var(--transition-fast);
}

.mana-symbol.interactive:hover {
    transform: scale(1.1);
}

.mana-symbol.interactive:active {
    transform: scale(0.95);
}

/* Mana curve visualization */
.mana-curve {
    display: flex;
    gap: var(--spacing-xs);
    align-items: flex-end;
    margin: var(--spacing-sm) 0;
}

.mana-curve-bar {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 20px;
}

.mana-curve-count {
    font-size: 0.7rem;
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    color: var(--text-secondary);
}

.mana-curve-visual {
    width: 100%;
    background: var(--primary-color);
    border-radius: var(--border-radius-sm) var(--border-radius-sm) 0 0;
    min-height: 4px;
    transition: all var(--transition-fast);
}

.mana-curve-cmc {
    font-size: 0.7rem;
    margin-top: var(--spacing-xs);
    color: var(--text-secondary);
}

/* Color identity indicators */
.color-identity {
    display: inline-flex;
    gap: 2px;
    align-items: center;
}

.color-identity-symbol {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

/* High contrast mode adjustments */
@media (prefers-contrast: high) {
    .mana-symbol {
        border: 2px solid currentColor;
        font-weight: 900;
    }

    .mana-symbol.white {
        background: white;
        color: black;
        border-color: black;
    }

    .mana-symbol.black {
        background: black;
        color: white;
        border-color: white;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .mana-symbol.interactive:hover {
        transform: none;
    }

    .mana-curve-visual {
        transition: none;
    }
}